import { describe, it, expect } from 'vitest'

import { weekCalendar, monthCalendar } from '../calendars.js'
import { newDate } from '../dates.js'

describe('weekCalendar', () => {
  it('returns calendar', () => {
    const currentDate = newDate(2024, 6, 24)

    const expected = [
      [
        "2024-06-23T00:00:00.000Z",
        "2024-06-24T00:00:00.000Z",
        "2024-06-25T00:00:00.000Z",
        "2024-06-26T00:00:00.000Z",
        "2024-06-27T00:00:00.000Z",
        "2024-06-28T00:00:00.000Z",
        "2024-06-29T00:00:00.000Z",
      ],
      [
        "2024-06-23T01:00:00.000Z",
        "2024-06-24T01:00:00.000Z",
        "2024-06-25T01:00:00.000Z",
        "2024-06-26T01:00:00.000Z",
        "2024-06-27T01:00:00.000Z",
        "2024-06-28T01:00:00.000Z",
        "2024-06-29T01:00:00.000Z",
      ],
      [
        "2024-06-23T02:00:00.000Z",
        "2024-06-24T02:00:00.000Z",
        "2024-06-25T02:00:00.000Z",
        "2024-06-26T02:00:00.000Z",
        "2024-06-27T02:00:00.000Z",
        "2024-06-28T02:00:00.000Z",
        "2024-06-29T02:00:00.000Z",
      ],
      [
        "2024-06-23T03:00:00.000Z",
        "2024-06-24T03:00:00.000Z",
        "2024-06-25T03:00:00.000Z",
        "2024-06-26T03:00:00.000Z",
        "2024-06-27T03:00:00.000Z",
        "2024-06-28T03:00:00.000Z",
        "2024-06-29T03:00:00.000Z",
      ],
      [
        "2024-06-23T04:00:00.000Z",
        "2024-06-24T04:00:00.000Z",
        "2024-06-25T04:00:00.000Z",
        "2024-06-26T04:00:00.000Z",
        "2024-06-27T04:00:00.000Z",
        "2024-06-28T04:00:00.000Z",
        "2024-06-29T04:00:00.000Z",
      ],
      [
        "2024-06-23T05:00:00.000Z",
        "2024-06-24T05:00:00.000Z",
        "2024-06-25T05:00:00.000Z",
        "2024-06-26T05:00:00.000Z",
        "2024-06-27T05:00:00.000Z",
        "2024-06-28T05:00:00.000Z",
        "2024-06-29T05:00:00.000Z",
      ],
      [
        "2024-06-23T06:00:00.000Z",
        "2024-06-24T06:00:00.000Z",
        "2024-06-25T06:00:00.000Z",
        "2024-06-26T06:00:00.000Z",
        "2024-06-27T06:00:00.000Z",
        "2024-06-28T06:00:00.000Z",
        "2024-06-29T06:00:00.000Z",
      ],
      [
        "2024-06-23T07:00:00.000Z",
        "2024-06-24T07:00:00.000Z",
        "2024-06-25T07:00:00.000Z",
        "2024-06-26T07:00:00.000Z",
        "2024-06-27T07:00:00.000Z",
        "2024-06-28T07:00:00.000Z",
        "2024-06-29T07:00:00.000Z",
      ],
      [
        "2024-06-23T08:00:00.000Z",
        "2024-06-24T08:00:00.000Z",
        "2024-06-25T08:00:00.000Z",
        "2024-06-26T08:00:00.000Z",
        "2024-06-27T08:00:00.000Z",
        "2024-06-28T08:00:00.000Z",
        "2024-06-29T08:00:00.000Z",
      ],
      [
        "2024-06-23T09:00:00.000Z",
        "2024-06-24T09:00:00.000Z",
        "2024-06-25T09:00:00.000Z",
        "2024-06-26T09:00:00.000Z",
        "2024-06-27T09:00:00.000Z",
        "2024-06-28T09:00:00.000Z",
        "2024-06-29T09:00:00.000Z",
      ],
      [
        "2024-06-23T10:00:00.000Z",
        "2024-06-24T10:00:00.000Z",
        "2024-06-25T10:00:00.000Z",
        "2024-06-26T10:00:00.000Z",
        "2024-06-27T10:00:00.000Z",
        "2024-06-28T10:00:00.000Z",
        "2024-06-29T10:00:00.000Z",
      ],
      [
        "2024-06-23T11:00:00.000Z",
        "2024-06-24T11:00:00.000Z",
        "2024-06-25T11:00:00.000Z",
        "2024-06-26T11:00:00.000Z",
        "2024-06-27T11:00:00.000Z",
        "2024-06-28T11:00:00.000Z",
        "2024-06-29T11:00:00.000Z",
      ],
      [
        "2024-06-23T12:00:00.000Z",
        "2024-06-24T12:00:00.000Z",
        "2024-06-25T12:00:00.000Z",
        "2024-06-26T12:00:00.000Z",
        "2024-06-27T12:00:00.000Z",
        "2024-06-28T12:00:00.000Z",
        "2024-06-29T12:00:00.000Z",
      ],
      [
        "2024-06-23T13:00:00.000Z",
        "2024-06-24T13:00:00.000Z",
        "2024-06-25T13:00:00.000Z",
        "2024-06-26T13:00:00.000Z",
        "2024-06-27T13:00:00.000Z",
        "2024-06-28T13:00:00.000Z",
        "2024-06-29T13:00:00.000Z",
      ],
      [
        "2024-06-23T14:00:00.000Z",
        "2024-06-24T14:00:00.000Z",
        "2024-06-25T14:00:00.000Z",
        "2024-06-26T14:00:00.000Z",
        "2024-06-27T14:00:00.000Z",
        "2024-06-28T14:00:00.000Z",
        "2024-06-29T14:00:00.000Z",
      ],
      [
        "2024-06-23T15:00:00.000Z",
        "2024-06-24T15:00:00.000Z",
        "2024-06-25T15:00:00.000Z",
        "2024-06-26T15:00:00.000Z",
        "2024-06-27T15:00:00.000Z",
        "2024-06-28T15:00:00.000Z",
        "2024-06-29T15:00:00.000Z",
      ],
      [
        "2024-06-23T16:00:00.000Z",
        "2024-06-24T16:00:00.000Z",
        "2024-06-25T16:00:00.000Z",
        "2024-06-26T16:00:00.000Z",
        "2024-06-27T16:00:00.000Z",
        "2024-06-28T16:00:00.000Z",
        "2024-06-29T16:00:00.000Z",
      ],
      [
        "2024-06-23T17:00:00.000Z",
        "2024-06-24T17:00:00.000Z",
        "2024-06-25T17:00:00.000Z",
        "2024-06-26T17:00:00.000Z",
        "2024-06-27T17:00:00.000Z",
        "2024-06-28T17:00:00.000Z",
        "2024-06-29T17:00:00.000Z",
      ],
      [
        "2024-06-23T18:00:00.000Z",
        "2024-06-24T18:00:00.000Z",
        "2024-06-25T18:00:00.000Z",
        "2024-06-26T18:00:00.000Z",
        "2024-06-27T18:00:00.000Z",
        "2024-06-28T18:00:00.000Z",
        "2024-06-29T18:00:00.000Z",
      ],
      [
        "2024-06-23T19:00:00.000Z",
        "2024-06-24T19:00:00.000Z",
        "2024-06-25T19:00:00.000Z",
        "2024-06-26T19:00:00.000Z",
        "2024-06-27T19:00:00.000Z",
        "2024-06-28T19:00:00.000Z",
        "2024-06-29T19:00:00.000Z",
      ],
      [
        "2024-06-23T20:00:00.000Z",
        "2024-06-24T20:00:00.000Z",
        "2024-06-25T20:00:00.000Z",
        "2024-06-26T20:00:00.000Z",
        "2024-06-27T20:00:00.000Z",
        "2024-06-28T20:00:00.000Z",
        "2024-06-29T20:00:00.000Z",
      ],
      [
        "2024-06-23T21:00:00.000Z",
        "2024-06-24T21:00:00.000Z",
        "2024-06-25T21:00:00.000Z",
        "2024-06-26T21:00:00.000Z",
        "2024-06-27T21:00:00.000Z",
        "2024-06-28T21:00:00.000Z",
        "2024-06-29T21:00:00.000Z",
      ],
      [
        "2024-06-23T22:00:00.000Z",
        "2024-06-24T22:00:00.000Z",
        "2024-06-25T22:00:00.000Z",
        "2024-06-26T22:00:00.000Z",
        "2024-06-27T22:00:00.000Z",
        "2024-06-28T22:00:00.000Z",
        "2024-06-29T22:00:00.000Z",
      ],
      [
        "2024-06-23T23:00:00.000Z",
        "2024-06-24T23:00:00.000Z",
        "2024-06-25T23:00:00.000Z",
        "2024-06-26T23:00:00.000Z",
        "2024-06-27T23:00:00.000Z",
        "2024-06-28T23:00:00.000Z",
        "2024-06-29T23:00:00.000Z",
      ]
    ]

    const actual = weekCalendar(currentDate)

    expect(actual).toEqual(expected)
  })
})

describe('monthCalendar', () => {
  it('returns calendar', () => {
    const currentDate = newDate(2024, 6, 24)

    const expected = [
      [ null, null, null, null, null, null, '2024-06-01' ],
      [ '2024-06-02', '2024-06-03', '2024-06-04', '2024-06-05', '2024-06-06', '2024-06-07' , '2024-06-08' ],
      [ '2024-06-09', '2024-06-10', '2024-06-11', '2024-06-12', '2024-06-13', '2024-06-14' , '2024-06-15' ],
      [ '2024-06-16', '2024-06-17', '2024-06-18', '2024-06-19', '2024-06-20', '2024-06-21' , '2024-06-22' ],
      [ '2024-06-23', '2024-06-24', '2024-06-25', '2024-06-26', '2024-06-27', '2024-06-28' , '2024-06-29' ],
      [ '2024-06-30', null, null, null, null, null, null ]
    ]

    const actual = monthCalendar(currentDate)

    expect(actual).toEqual(expected)
  })
})
